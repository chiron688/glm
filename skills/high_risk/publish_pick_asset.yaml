schema_version: v1
id: "publish_pick_asset"
name: "Publish Pick Asset"
version: "1.0.0"
description: "Pick the first asset and move to edit."
app:
  name: "TikTok"
risk: high
preconditions:
  mode: best_effort
  condition:
    text_any_contains: ["Gallery", "Recent", "All", "相册", "最近"]
steps:
  - id: "tap_first_asset"
    action: Tap
    target:
      type: coords
      coords: [180, 300]
      coords_type: absolute
    wait:
      after_ms: 500
  - id: "tap_next"
    action: Tap
    target:
      type: selector
      selector:
        text: "Next"
        match: contains
    retry:
      max_attempts: 2
      backoff_ms: 1000
      on_codes: ["TARGET_NOT_FOUND", "POSTCONDITION_FAILED"]
    assert:
      condition:
        text_any_contains: ["Caption", "Description", "添加文字", "文案"]
      timeout_ms: 8000
      poll_interval_ms: 500
